<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-adsense-account" content="ca-pub-9860497702017992">
<title>Unique Collection4u â€” Curated Deals & Expert Picks</title>

<!-- Animate.css & AOS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"/>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
body {font-family: Arial, sans-serif; margin:0; padding:0; background:#f8f9fa; color:#333;}
header {background:#007BFF; color:#fff; padding:10px 20px; position:sticky; top:0; z-index:1000;}
header nav a {color:#fff; margin-right:15px; text-decoration:none; font-weight:bold;}
header nav a:hover {text-decoration:underline;}
.search-bar {margin-top:10px; display:flex; justify-content:center;}
.search-bar input[type="text"] {padding:8px; width:300px; border-radius:4px; border:1px solid #ccc;}
.search-bar button {padding:8px 12px; margin-left:5px; background:#fff; border:1px solid #007BFF; color:#007BFF; cursor:pointer; border-radius:4px;}
.search-bar button:hover {background:#007BFF; color:#fff;}

.products {display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:15px; padding:20px;}
.product-card {background:#fff; padding:15px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
.product-card img {width:100%; height:200px; object-fit:contain; margin-bottom:10px;}

.product-name {
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  text-overflow:ellipsis;
  cursor:pointer;
  margin-bottom:10px;
}
.expand {color:blue; font-weight:bold; margin-left:4px;}

.product-link {text-align:center; padding:8px; background:#007BFF; color:#fff; text-decoration:none; border-radius:4px; display:block;}
.product-link:hover {background:#0056b3;}

.pagination {display:flex; justify-content:center; margin:20px 0;}
.pagination button {padding:8px 12px; margin:0 4px; border:none; border-radius:4px; cursor:pointer; background:#007BFF; color:#fff;}
.pagination button.disabled {background:#ccc; cursor:not-allowed;}

footer {background:#007BFF; color:#fff; text-align:center; padding:15px;}
.social-links a {color:#fff; margin:0 10px; text-decoration:none; font-size:20px;}
</style>
</head>
<body>

<header>
  <nav>
    <a href="index.html">Home</a>
    <a href="privacy.html">Privacy</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search products...">
    <button onclick="performSearch()">Search</button>
  </div>
</header>

<div class="products" id="productsContainer"></div>
<div class="pagination" id="paginationContainer"></div>

<footer>
  <div class="social-links">
    <a href="https://facebook.com/UniqueCollection0555" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://instagram.com/uniquecollection0555" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://discord.gg/Aa9a6XHwZz" target="_blank"><i class="fab fa-discord"></i></a>
    <a href="https://whatsapp.com/channel/0029VbBdg1zGk1FoG5cHlR2J" target="_blank"><i class="fab fa-whatsapp"></i></a>
    <a href="https://www.youtube.com/@uniquecollection01" target="_blank"><i class="fab fa-youtube"></i></a>
  </div>
  <p>&copy; 2025 Unique Collection4u</p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
AOS.init();

let products = [];
let currentPage = 1;
const productsPerPage = 10;

// Read URL parameters
function getParams() {
    const url = new URL(window.location.href);
    return {
        search: url.searchParams.get("search") || "",
        page: parseInt(url.searchParams.get("page")) || 1
    };
}

// Load products.json
async function loadProducts() {  
    try {
        const res = await fetch('products.json');
        products = await res.json();

        // FIX: Ensure products.json is ALWAYS treated as array
        if (!Array.isArray(products)) {
            products = Object.values(products);
        }

        const params = getParams();
        document.getElementById("searchInput").value = params.search;

        currentPage = params.page;

        renderProducts(params.search);
    } catch (e) {
        console.error("JSON loading error:", e);
    }
}

// Render products
function renderProducts(searchQuery = "") {
    const container = document.getElementById("productsContainer");
    container.innerHTML = "";

    let filtered = products.filter(p =>
        (p.name || "").toLowerCase().includes(searchQuery.toLowerCase())
    );

    const totalPages = Math.ceil(filtered.length / productsPerPage);
    currentPage = Math.min(currentPage, totalPages) || 1;

    const start = (currentPage - 1) * productsPerPage;
    const end = start + productsPerPage;

    const pageProducts = filtered.slice(start, end);

    pageProducts.forEach((p, idx) => {
        const card = document.createElement("div");
        card.className = "product-card animate__animated animate__fadeIn";

        card.innerHTML = `
          <img src="${p.img}" alt="${p.alt}">
          <p class="product-name" id="name${start+idx}">
            ${p.name}
            <span class="expand" onclick="toggleName('name${start+idx}', this)">[more]</span>
          </p>
          <a href="${p.link}" class="product-link" target="_blank">Shop Now</a>
        `;

        container.appendChild(card);
    });

    renderPagination(totalPages, searchQuery);
}

// Pagination
function renderPagination(totalPages, searchQuery) {
    const pagContainer = document.getElementById("paginationContainer");
    pagContainer.innerHTML = "";

    if (totalPages <= 1) return;

    for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;

        if (i === currentPage) btn.classList.add("disabled");

        btn.onclick = () => {
            currentPage = i;
            window.location.href = `?search=${encodeURIComponent(searchQuery)}&page=${i}`;
        };

        pagContainer.appendChild(btn);
    }
}

// Expand / Collapse name
function toggleName(id, span) {
    const para = document.getElementById(id);

    const expanded = para.style.webkitLineClamp === "unset";
    para.style.webkitLineClamp = expanded ? "2" : "unset";

    span.textContent = expanded ? "[more]" : "[less]";
}

// Search button
function performSearch() {
    const query = document.getElementById("searchInput").value.trim();
    window.location.href = `?search=${encodeURIComponent(query)}&page=1`;
}

window.onload = loadProducts;
</script>


</body>
</html>
